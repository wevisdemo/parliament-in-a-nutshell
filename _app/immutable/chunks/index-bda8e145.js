import{C as g,$ as E,a0 as O,a1 as b}from"./index-366f54f6.js";import{w as C}from"./index-7e885190.js";function M(t){return Math.sin(t*Math.PI/2)}function h(t){return Object.prototype.toString.call(t)==="[object Date]"}function a(t,r){if(t===r||t!==t)return()=>t;const s=typeof t;if(s!==typeof r||Array.isArray(t)!==Array.isArray(r))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=r.map((n,e)=>a(t[e],n));return n=>i.map(e=>e(n))}if(s==="object"){if(!t||!r)throw new Error("Object cannot be null");if(h(t)&&h(r)){t=t.getTime(),r=r.getTime();const e=r-t;return o=>new Date(t+o*e)}const i=Object.keys(r),n={};return i.forEach(e=>{n[e]=a(t[e],r[e])}),e=>{const o={};return i.forEach(f=>{o[f]=n[f](e)}),o}}if(s==="number"){const i=r-t;return n=>t+n*i}throw new Error(`Cannot interpolate ${s} values`)}function T(t,r={}){const s=C(t);let i,n=t;function e(o,f){if(t==null)return s.set(t=o),Promise.resolve();n=o;let c=i,l=!1,{delay:w=0,duration:u=400,easing:A=b,interpolate:j=a}=g(g({},r),f);if(u===0)return c&&(c.abort(),c=null),s.set(t=n),Promise.resolve();const p=E()+w;let y;return i=O(m=>{if(m<p)return!0;l||(y=j(t,o),typeof u=="function"&&(u=u(t,o)),l=!0),c&&(c.abort(),c=null);const d=m-p;return d>u?(s.set(t=o),!1):(s.set(t=y(A(d/u))),!0)}),i.promise}return{set:e,update:(o,f)=>e(o(n,t),f),subscribe:s.subscribe}}export{M as s,T as t};
